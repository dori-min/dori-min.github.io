<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Chemical Engineering," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="The course Process Design and Integration requires the application of ASPEN PLUS. Some learning notes and mentioned ROTs are collected in this note.Main tutorial video: Beginner and Advanced (Very cle">
<meta property="og:type" content="article">
<meta property="og:title" content="Aspen Plus Notes">
<meta property="og:url" content="https://dori-min.github.io/archive/210209-aspen-plus/index.html">
<meta property="og:site_name" content="Dori-min">
<meta property="og:description" content="The course Process Design and Integration requires the application of ASPEN PLUS. Some learning notes and mentioned ROTs are collected in this note.Main tutorial video: Beginner and Advanced (Very cle">
<meta property="og:updated_time" content="2022-05-19T09:05:41.845Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Aspen Plus Notes">
<meta name="twitter:description" content="The course Process Design and Integration requires the application of ASPEN PLUS. Some learning notes and mentioned ROTs are collected in this note.Main tutorial video: Beginner and Advanced (Very cle">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"hide","offset":12,"offset_float":12,"b2t":true,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://dori-min.github.io/archive/210209-aspen-plus/"/>





  <title>Aspen Plus Notes | Dori-min</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Dori-min</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Keep Dori-min</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-random">
          <a href="/random.html" rel="section">
            
            Random
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dori-min.github.io/archive/210209-aspen-plus/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dori-min">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dori-min">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Aspen Plus Notes</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-02-09T17:35:47+09:00">
                2021-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Lecture-Note/" itemprop="url" rel="index">
                    <span itemprop="name">Lecture Note</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>The course <em>Process Design and Integration</em> requires the application of ASPEN PLUS. Some learning notes and mentioned ROTs are collected in this note.<br>Main tutorial video: <a href="https://www.bilibili.com/video/BV1bt4y1D7Yv" target="_blank" rel="external">Beginner</a> and <a href="https://www.bilibili.com/video/BV1tk4y1y7Ey?from=search&amp;seid=10810935578748957389" target="_blank" rel="external">Advanced</a> <em>(Very clear and highly recommended for beginners, delivered in Chinese)</em></p>
<h1 id="Trouble-Shooting-Log"><a href="#Trouble-Shooting-Log" class="headerlink" title="Trouble Shooting Log"></a>Trouble Shooting Log</h1><p>Some places need taking attention (in <strong>Simulation</strong> tab)</p>
<ul>
<li>Stream</li>
<li>Block | <em>Block Name</em> | Design Specification</li>
<li>Block | <em>Block Name</em> | Vary</li>
<li>Flowsheeting Options | Design Specs</li>
<li>Model Analysis Tools | Sensitivity</li>
</ul>
<p>RESET if any error</p>
<p>be careful about stream | component | mole/mass | flow/frac |</p>
<hr>
<p><em>updated on 210406</em> <del><em>一些血肉教训</em></del></p>
<ol>
<li>For RadFrac, <strong>Azeotrope</strong> is much harder to converge. If any possible azeotropic system, try <strong><u>Strongly non-ideal liquid</u></strong> (rmb azeotrope cannot be dealt with DSTWU)</li>
<li>If it takes a long time (i.e. longer then a few seconds), then there is probably warning/error</li>
<li>I personally use a lot of <strong>sensitivity analysis</strong> as an approach to find a value that converge without error.</li>
</ol>
<h1 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h1><p>2 major tabs to operate: Properties and Simulation</p>
<p>3 major blank to fill: Components of inlet, Setting of equipment and Utilities <em>(公用工程)</em></p>
<p><em>Utilities usually includes source of heat, electricity, etc, which can be provided to particular equipment and calculate the required cost</em></p>
<h1 id="Type-of-equipment"><a href="#Type-of-equipment" class="headerlink" title="Type of equipment"></a>Type of equipment</h1><ul>
<li><p>Mixer, splitter</p>
</li>
<li><p>Heat Exchanger</p>
<ul>
<li>Stream &amp; Utilities</li>
<li>Stream &amp; Stream (direction of hot &amp; cold stream strictly defined initially)</li>
</ul>
</li>
<li><p>Pressure Changer</p>
<ul>
<li>Pump - make sure no gas involved</li>
<li>Compressor - make sure no liquid involved</li>
<li>Valve</li>
</ul>
</li>
<li><p>Reactor (if adiabatic, in first tab change duty to 0)</p>
<ul>
<li>Rstoic - stop at given conversion, not often used in major reaction, but used to determine the conversion of by-product.</li>
<li>REquil - stop at equilibrium</li>
<li>RCSTR</li>
</ul>
</li>
<li><p>Column</p>
<ul>
<li>Two kinds, non-strict (DSTWU) and strict(RADFRAC)</li>
<li>Utilities cannot be added to DSTWU but can be added to RADFRAC</li>
<li>Procedure: give ideal conversion to DSTWU, DSTWU generates <strong>Actual Number of Plates</strong> and <strong>Actual Reflux Ratio</strong>, fill these two numbers to RADFRAC and get real result.</li>
<li># of plates should be between 20 to 30. Height of tower should be no more than 40m (usually 30m).</li>
<li>Reflux ratio is usually less than 10 (preferably 5). But if the flow rate is small then could be larger.</li>
<li><p>Lower pressure facilitate the distillation, however the cost would also increase to decrease pressure</p>
<p><em>Catalyst adsorption model LHHW(mentioned in video but not detailed explanation here)</em></p>
</li>
</ul>
</li>
</ul>
<h1 id="Other-operation"><a href="#Other-operation" class="headerlink" title="Other operation"></a>Other operation</h1><h2 id="Sensitivity-research"><a href="#Sensitivity-research" class="headerlink" title="Sensitivity research"></a>Sensitivity research</h2><p>Sensitivity research is a process to specify some independent and dependent variables and see how dependent variables change with independent one (usually shown in plot) to choose best configuration and optimize the process.</p>
<p>Often used independent variables for column analysis (in the <strong>vary</strong> tab)</p>
<ul>
<li>number of plates</li>
<li>reflux ratio &amp; reboiler duty</li>
<li>feeding plates</li>
</ul>
<p>Often used dependent variables for column analysis (in the <strong>define</strong> tab)</p>
<ul>
<li>yield</li>
<li>mole fraction of outlet stream</li>
</ul>
<p>Multiple dependent variables can be plotted in the same plot for better judgement.</p>
<p>ROT: e.g. plot </p>
<h2 id="If-not-converged"><a href="#If-not-converged" class="headerlink" title="If not converged"></a>If not converged</h2><ol>
<li>increase in number of iteration (in <strong>simulation | converge | configuration | method | Wegstein</strong>)</li>
<li>bad initialization - method: copy the stream components for the current unconverged result to the initial component value</li>
</ol>
<blockquote>
<p>原文地址：<a href="https://bbs.mahoupao.com/thread-83978-1-1.html" target="_blank" rel="external">https://bbs.mahoupao.com/thread-83978-1-1.html</a></p>
<p>循环收不收敛，是数学算法的范畴，但往往都是工艺上出了问题，比如流量、温度、组成等与实际差的太大造成不收敛。<br>至于数学算法，当今处理迭代计算最先进的算法就那么几种，可以换着试试。<br>建模初期往往不需要将循环物流接上去，可人工虚拟一股物流，让模型收敛后，再考虑撤除虚拟物流，将循环物流接入。<br>以上为个人观点。</p>
<p>在模拟有循环的流程时，首先按流程顺序模拟好每一个模块，在每一模块模拟好之后，将需要循环的物料进行循环。通常在进行循环时会出现不收敛和很多错误与警告（在有几个精馏塔时错误和警告数最多，流程越难收敛）。以下是模拟循环的步骤。<br>1、将需要循环的物料连接一个分流器Fsplit分出一部分物料（因反应中有惰性组分产生，如果不进行分流放空就会造成惰性组分在循环中积累导致循环不收敛），一般分出的物料较少。将另一股物料连接到循环的起始点。<br>2、我们首先将收敛方法的迭代次数增加到较大的值，根据自己的情况自己设置，我一般是设为300次。<br>3、根据最初的反应物料进料量和循环反应物的量计算出循环时反应物的进料量（计算精确一点，最好到小数点后两位，此计算值较为准确），循环不收敛或产物的产量和自己设计的不同时只需微调进料量即可。<br>4、对于只有一个塔的循环，先将塔换为DSTWU模块进行设计计算，结果收敛后再换为RadFrac模块计算。<br>5、对于有多个精馏塔的循环，首先全部换为DSTWU模块进行设计计算，在计算结果收敛和达到自己设计的产量后再将DSTWU模块每次一个（将循环流程内的DSTWU模块一个换为RadFrac模块，计算收敛和产量达预定值时再换下一个）的换为RadFrac模块进行设计计算。<br>6、如果循环很难收敛，我们考虑改变收敛方法，一般布洛伊顿拟牛顿法（Broyden）最易收敛。<br>7、对于具体不收敛情况，我们只需微调精料量和精馏塔的回流比（根据具体情况进行调节，有的只要调节小数点后两位的值流程有可能有很大变化）。<br>8、根据个人经验，小数点后的最后一位数设置为偶数比设置为奇数流程更易收敛。</p>
</blockquote>
<h1 id="Examples-and-Exercises"><a href="#Examples-and-Exercises" class="headerlink" title="Examples and Exercises"></a>Examples and Exercises</h1><p>The main reference book is <em>Chemical Engineering Process Simulation Practice - Aspen Plus Instruction (Yilan Sun)</em></p>
<p>Here are the recording of troubleshooting and learning summary.</p>
<h2 id="Ex-4-1-flash-3"><a href="#Ex-4-1-flash-3" class="headerlink" title="Ex 4.1 flash*3"></a>Ex 4.1 flash*3</h2><ol>
<li>no specification for flash evaporator -&gt; the solution use 0 pressure and 0 duty (the question said ‘adiabatic and isobaric’!)</li>
<li>MIX2 is normal while LIQUID2 and VAPOR2 are shown 0 -&gt; forgot to change temperature to duty</li>
</ol>
<p>Summary:</p>
<ul>
<li>properties can be changed in Block|FLASH|Block Options|Properties</li>
<li>UNIQUAC - more liquid less vapor, NRTL&amp;WILSON quite similar</li>
</ul>
<h2 id="Ex-5-1-Production-of-cyclohexane"><a href="#Ex-5-1-Production-of-cyclohexane" class="headerlink" title="Ex 5.1 Production of cyclohexane"></a>Ex 5.1 Production of cyclohexane</h2><ol>
<li>where is the pressure drop specification of Rstoic -&gt; the pressure section in the specification means the pressure increase or drop(relative) in reactor</li>
<li>differentiate PIPE and PIPELINE</li>
<li>several deviation found (deviation in the order of 1e1) -&gt; change method properties (mentioned in the first sentence of question) -&gt; exactly same output obtained</li>
</ol>
<p>Summary:</p>
<ul>
<li>be careful with method properties</li>
</ul>
<h2 id="Eg-7-4-Design-specification-of-absorber"><a href="#Eg-7-4-Design-specification-of-absorber" class="headerlink" title="Eg 7.4 Design specification of absorber"></a>Eg 7.4 Design specification of absorber</h2><p>how to define the design specification</p>
<ol>
<li><strong>Block | RADFRAC | Specifications | Design Specification</strong> (add a specific target)</li>
<li><strong>Block | RADFRAC | Specifications | Vary </strong> (Add an independent variable to reach the target)</li>
</ol>
<blockquote>
<p><em>对于宽沸程物系，要在Convergence | Convergence | Advanced 把adsorber的no改成yes，然后把maximum iteration改成200</em></p>
</blockquote>
<h2 id="Ex-7-1-Distillation-column-of-water-and-methanol"><a href="#Ex-7-1-Distillation-column-of-water-and-methanol" class="headerlink" title="Ex 7.1 Distillation column of water and methanol"></a>Ex 7.1 Distillation column of water and methanol</h2><ol>
<li>Method | Parameters ??? -&gt; automatically filled after filling the simulation part</li>
<li>initial number of plates of column? pressure? -&gt; I had 20 plates and same pressure as feed first(OK actually operation pressure given but I missed it)</li>
</ol>
<p>Compare the result of two column: RadFrac has a bit higher recovery of methanol</p>
<p>Plotting gas distribution curve</p>
<p>Enter <strong>Block | Column | Profile</strong>. See the <strong>Column Design</strong> tab above can there is Custom, temperature, composition, K value(need to extend the frame) etc. Click composition and setup and generation the composition distribution graph (x axis is stage)</p>
<p>So strange things are here:</p>
<ol>
<li><p>For DSTWU, given operation pressure of column is 100kpa, but in solution the setting pressure for condenser and reboiler are 100kpa and 103kpa respectively. And the reflux ratio is set as -1.3. (It could be somehow interpreted that the pressure in reboiler should be higher(more vapor) and in condenser should be lower (more liquid))</p>
<p> So in my simulation I set number of plates instead of reflux ratio, which is not good for getting better <u>number of plates</u>. While other simulation outcome (D/F ratio, reflux ratio are quite similar)</p>
</li>
<li><p>If feed stage obtained in DSTWU is floating number, we should round? ceil? the number? (emmm I have it ceiled first)</p>
</li>
<li><p>For the stream results, the mole fraction of methanol is RadFrac is <strong>SMALLER</strong> that that of DSTWU……..</p>
</li>
</ol>
<h2 id="Eg-9-2-CH2Cl2-Recovery-optimization"><a href="#Eg-9-2-CH2Cl2-Recovery-optimization" class="headerlink" title="Eg 9.2 CH2Cl2 Recovery optimization"></a>Eg 9.2 CH2Cl2 Recovery optimization</h2><ol>
<li><p><strong>Model Analysis Tools | Optimization</strong></p>
<p> Create Optimization O-1:<br> <strong>Define</strong> FLOW1 and FLOW2<br> <strong>Objective &amp; Constraints</strong> minimize FLOW1 + FLOW2<br> <strong>Vary</strong> 1 and 2 (set as mass flow of two inlet steam)</p>
</li>
<li><p><strong>Model Analysis Tools | Constraint | Spec</strong></p>
<p> Constraint C-1:</p>
<p> Specification: DLOG(FCHCL2)<br> Less than or equal to: DLOG(150E-6)<br> Tolerance: DLOG(151E-6)-DLOG(150E-6 )</p>
<p> Add Constraint C-1 to the Objective of optimization O-1</p>
</li>
</ol>
<h2 id="Eg-11-1-Azeotrope-separation-of-ethanol-water-system-with-recycle"><a href="#Eg-11-1-Azeotrope-separation-of-ethanol-water-system-with-recycle" class="headerlink" title="Eg 11.1 Azeotrope separation of ethanol-water system with recycle"></a>Eg 11.1 Azeotrope separation of ethanol-water system with recycle</h2><p>Convergence with recycle.</p>
<p>Approach to reach convergence</p>
<ol>
<li><p>increase the Maximum flowsheet evaluations (iterations)</p>
</li>
<li><p>Change the tear stream</p>
<p> <strong>Convergence | Tear | Specifications</strong></p>
</li>
<li><p>Change the algorithm of convergence calculation</p>
<p> <strong>Convergence | Options | Defaults | Default Methods</strong> and change to <em>Newton</em></p>
</li>
</ol>
<h1 id="Problems-encountered"><a href="#Problems-encountered" class="headerlink" title="Problems encountered"></a>Problems encountered</h1><p>除去light gas（H2&amp;PY）</p>
<ul>
<li><p> 粗分离用FLASH</p>
</li>
<li><p> absorber用水回收AC的时候会带PY</p>
</li>
<li><p> 解决办法：flash+absorber+radrac distillation column</p>
</li>
</ul>
<p>除去DE</p>
<ul>
<li><p> C2主要负责除去DE（在共沸点上方温度，DE沸点小于AC，底部收获AC）</p>
</li>
<li><p> 解决办法：在前面就purge掉</p>
</li>
</ul>
<p>水和IPA回收</p>
<ul>
<li><p> C1和FLASH2</p>
</li>
<li><p> 解决办法：column分离AC和IPA,H2O，再column分离IPA和H2O</p>
</li>
</ul>
<p>能量</p>
<ul>
<li> COMP用太多能量，只能用COMP的原因是因为有PY没办法轻松降温液化，要避免用COMP必须要除去PY</li>
</ul>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Chemical-Engineering/" rel="tag"># Chemical Engineering</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/book-reports/210203-bear-town/" rel="next" title="熊镇">
                <i class="fa fa-chevron-left"></i> 熊镇
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/archive/210215-injection-molding-process-control-monitoring-and-optimization/" rel="prev" title="Injection Molding, Process Control, Monitoring, and Optimization">
                Injection Molding, Process Control, Monitoring, and Optimization <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Dori-min" />
          <p class="site-author-name" itemprop="name">Dori-min</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">149</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">36</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Trouble-Shooting-Log"><span class="nav-text">Trouble Shooting Log</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Basic"><span class="nav-text">Basic</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Type-of-equipment"><span class="nav-text">Type of equipment</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Other-operation"><span class="nav-text">Other operation</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Sensitivity-research"><span class="nav-text">Sensitivity research</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#If-not-converged"><span class="nav-text">If not converged</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Examples-and-Exercises"><span class="nav-text">Examples and Exercises</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Ex-4-1-flash-3"><span class="nav-text">Ex 4.1 flash*3</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ex-5-1-Production-of-cyclohexane"><span class="nav-text">Ex 5.1 Production of cyclohexane</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Eg-7-4-Design-specification-of-absorber"><span class="nav-text">Eg 7.4 Design specification of absorber</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ex-7-1-Distillation-column-of-water-and-methanol"><span class="nav-text">Ex 7.1 Distillation column of water and methanol</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Eg-9-2-CH2Cl2-Recovery-optimization"><span class="nav-text">Eg 9.2 CH2Cl2 Recovery optimization</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Eg-11-1-Azeotrope-separation-of-ethanol-water-system-with-recycle"><span class="nav-text">Eg 11.1 Azeotrope separation of ethanol-water system with recycle</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Problems-encountered"><span class="nav-text">Problems encountered</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2018 - 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dori-min</span>
</div>





        

        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  


  

  

</body>
</html>

<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Philosophy,Literature,Classics," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="之前读了卡森的大部分代表作，后来又找到一些她的学术作品，还有Float里面一些没读完的篇章。
How Not To Read A Poem : Unmixing Simonides From Protagoras柏拉图在毕达哥拉斯一章里写苏格拉底的陈辞：“听哲学家解诗就像抽刀断水。”这一章里苏格拉底和毕达哥拉斯讨论希莫尼德斯的诗歌，用卡森的话来说，完全是 misquote, misconstrue">
<meta property="og:type" content="article">
<meta property="og:title" content="Anne Carson 作品读后感（二）">
<meta property="og:url" content="https://dori-min.github.io/book-reports/230504-anne-carson/index.html">
<meta property="og:site_name" content="Dori-min">
<meta property="og:description" content="之前读了卡森的大部分代表作，后来又找到一些她的学术作品，还有Float里面一些没读完的篇章。
How Not To Read A Poem : Unmixing Simonides From Protagoras柏拉图在毕达哥拉斯一章里写苏格拉底的陈辞：“听哲学家解诗就像抽刀断水。”这一章里苏格拉底和毕达哥拉斯讨论希莫尼德斯的诗歌，用卡森的话来说，完全是 misquote, misconstrue">
<meta property="og:updated_time" content="2023-08-06T02:54:17.985Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Anne Carson 作品读后感（二）">
<meta name="twitter:description" content="之前读了卡森的大部分代表作，后来又找到一些她的学术作品，还有Float里面一些没读完的篇章。
How Not To Read A Poem : Unmixing Simonides From Protagoras柏拉图在毕达哥拉斯一章里写苏格拉底的陈辞：“听哲学家解诗就像抽刀断水。”这一章里苏格拉底和毕达哥拉斯讨论希莫尼德斯的诗歌，用卡森的话来说，完全是 misquote, misconstrue">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"hide","offset":12,"offset_float":12,"b2t":true,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://dori-min.github.io/book-reports/230504-anne-carson/"/>





  <title>Anne Carson 作品读后感（二） | Dori-min</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Dori-min</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Keep Dori-min</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-random">
          <a href="/random.html" rel="section">
            
            Random
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dori-min.github.io/book-reports/230504-anne-carson/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dori-min">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dori-min">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Anne Carson 作品读后感（二）</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2023-05-03T21:27:38-04:00">
                2023-05-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Book-Report/" itemprop="url" rel="index">
                    <span itemprop="name">Book Report</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>之前读了卡森的大部分代表作，后来又找到一些她的学术作品，还有Float里面一些没读完的篇章。</p>
<h1 id="How-Not-To-Read-A-Poem-Unmixing-Simonides-From-Protagoras"><a href="#How-Not-To-Read-A-Poem-Unmixing-Simonides-From-Protagoras" class="headerlink" title="How Not To Read A Poem : Unmixing Simonides From Protagoras"></a>How Not To Read A Poem : Unmixing Simonides From <em>Protagoras</em></h1><p>柏拉图在<em>毕达哥拉斯</em>一章里写苏格拉底的陈辞：“听哲学家解诗就像抽刀断水。”这一章里苏格拉底和毕达哥拉斯讨论希莫尼德斯的诗歌，用卡森的话来说，完全是 <em>misquote, misconstrue, and misrepresent</em>。</p>
<p>毕达哥拉斯以诡辩闻名，他的正反两面对立矛盾让人视之为杂糅（mixture）。而正邪两面之所以对立，是因为存在边界（boundary）：比如说脏污，碗里的鸡蛋羹是美味佳肴，但是掉在地上的鸡蛋则是脏污，是否是脏污取决于是否跨过了一条不能逾越的边界。</p>
<p>边界的另外一种表述是一种尺度（measure），我们知道毕达哥拉斯的名言“人是万物的尺度”，而在这一点上希莫尼德斯和他不谋而合——希莫尼德斯对于边界的定义取决于诗人（他自己）的赞美与否：嬴政真的是胜利者吗，纵使一统天下，在诗歌里他作为暴君被讽刺挖苦。在这一点上品达也和他们有相似的看法：物质本身的组成无法控制，但是可以通过不同的尺度控制它的表达。</p>
<p>卡森在这里反复评价苏格拉底对于边界的处置“新颖又诡异”。苏格拉底抨击希莫尼德斯的赞美出于个人意志（will），他否认这种个人意志的存在，或者说他认为社会纲常的知识才应该是尺度和边界，而灵魂（soul）会竭力让个人意志和社会纲常保持一致。卡算说苏格拉底致命的错误是混淆了知识和美德，苏格拉底说做坏事是因为因为他对恶的无知，而不是出于个人意志，但是果真如此吗？</p>
<p>当然希莫尼德斯并不是完美无缺的，他的理论里也有致命的漏洞，那就是他建构的社会精神共同体的尺度是脆弱而容易被玷污的，需要诗人自身的信念时时净化。</p>
<blockquote>
<p>We cannot rely on the voices of other people if we want to fine the truth. Other people mix things up.</p>
<p>You can always tell the sophist from the philosopher in a Platonic dialogue. The sophist is the one who loses his sense of humor</p>
<p>The poetry is what keeps unmixing itself from everthing else.</p>
</blockquote>
<h1 id="Wedding-At-Noon-In-Pindar’s-Ninth-Pythian-1982"><a href="#Wedding-At-Noon-In-Pindar’s-Ninth-Pythian-1982" class="headerlink" title="Wedding At Noon In Pindar’s Ninth Pythian (1982)"></a>Wedding At Noon In Pindar’s <em>Ninth Pythian</em> (1982)</h1><p><a href="https://en.wikisource.org/wiki/Pindar_and_Anacreon/Pindar/Pythian_Odes/9" target="_blank" rel="external">关于PIndar的Ninth Pythian的背景知识</a></p>
<p>婚礼见怪不怪，为什么卡森要把品达（Pindar）赞颂的这个婚礼单独拎出来讲一定有他的理由。</p>
<p>在古希腊文化里，婚姻是女人的最终目标（<em>telos</em>），就像胜利的男人的最终目标。卡森在这里考察了婚礼习俗的三个阶段来解释这个比方，说明了品达在本诗中最“欲望的（Erotic）”要素。</p>
<p>婚姻习俗的第一个阶段是订婚（<em>betrothal</em>）。接下来是核心阶段——婚礼，预示着新娘从娘家人变成夫家人，婚礼的高潮是新郎把牵着新娘的手，到家门口等婆婆接受他们，又叫bridal procession。第三个阶段是新人到壁炉前接受无花果、枣子、见过、蛋糕、金币的沐浴（<em>showing</em>），来展现新郎家的财力。</p>
<p>品达在这组诗歌里描写的新娘是Kyrene，新郎是Telesikrates。Kyrene其实不是一个典型的新娘，她是一个运动健儿，手无寸铁和狮子搏斗，而品达用“结合（<em>mingling</em>）”这个词来形容她作为运动健儿和新娘两方面的成就。这对佳人的契合之处在于，Kyrene让观看她竞技的观众（阿波罗）感到了欲望，而看Telesikrates则让看他竞技的女观众在沉默中渴望他。</p>
<p>卡森先点出了植物的盛开在古希腊语境里的欲望含义。</p>
<blockquote>
<p>Kyrene will <u>bloom</u> in childbirth and Libyan wealth as Telesikrates mingles with <u>blooming</u> victory. Let us take note of this image of <strong>blooming</strong> thatlinkd athlete and bride. The metaphor of <strong>vegetation</strong>, so frequently used by the Greek poets in erotic contexts.</p>
</blockquote>
<p>然后她解释了竞技胜者和婚礼新娘的比喻的隐含共同点在于其植物盛开的譬喻，而表面共同点在于两者的核心都是<strong>时间</strong>。</p>
<blockquote>
<p>From that coupling emerges the most telling of the correspondences between bride and victor, namely a certain urgent relationship with <strong>time</strong>. <u>Implicit in the metaphor of plants and blooming, explicit in the conditions of a race</u>, the <strong>time</strong>-factor is at the heart of Pindar’s analogy between brides and victors. By means of this factor the various marriages and victories of the poem are bound into one design, the various brides and victors are seen to contest on analogous terms for a similar kind of <em>telos</em>. <strong>Time</strong> is of the essence.</p>
</blockquote>
<p>说到时间卡森提到了另外一个概念叫 <em>kairos</em> （我理解为“关键时机”），对于竞技胜利有一个关键时机（各种身体状态的巅峰），而对于婚礼也有这样一个必须抓住的关键时期（性欲最旺盛的时期），就像绽放的鲜花，只能在唯一一个盛开的时机撷取，错过就不再有了。</p>
<p>这个时候不免悲从中来：人无再少年。花会谢，人会老。这个最终目标（胜利和婚姻）值得吗？</p>
<blockquote>
<p>Victory also blooms . The dilemma of <strong>timing</strong> in which human chances are set presents one face to men <em>(a demand to act)</em> and another to women <em>(a requirement to wait)</em>, but the pressure and the stakes are commensurable. Pindar’s analogy between bride and athlete allows us to gauge that pressure. The fulfillment of an individual life within community is at stake and is defined in each case by necessities as harsh as nature. <u>Athletes must race; women must age. Is the <em>telos</em> worth the effort?</u></p>
</blockquote>
<p>让我们回到走进婚姻的三个阶段：订婚仪式是一个社会行为（公开告知），而不仅仅是去对方的房子而已；婚礼仪式公开彰显了两人的结合；而沐浴仪式让新娘和这个家里收获的果实合为一体——同样是公开行为。所以品达认为婚姻是一桩“社会化机制（socializing mechanism）”。</p>
<p>对于Kyrene来说，她无论有多么强大的竞技能力，她仍然需要进入婚姻来实现社会认同。婚姻只是一个方法。</p>
<blockquote>
<p>Marriage is the means prescribed by Pindar’s society for bounding, civilizing, and fulfilling awoman. To deny it is to miss the only telos appropriate for her.</p>
</blockquote>
<p>对于Telesikrates也是一样的，他颇富实力，但是如果不通过公开竞技，则不能得到认可。</p>
<blockquote>
<p>If the victor’s personal value is not mingled with that of his community, it has no life.</p>
</blockquote>
<p>所以，从新娘和胜者的譬喻里，我们明白了公众认可的重要性，而从私人领域曝光到公众视野下的瞬间正是 <em>kairos</em> ，正如花开的刹那，而植物和erotic的联系在古希腊语境下无需多言。</p>
<blockquote>
<p>In summary, the point of the analogy between bride and victor is, at least in part, to remind us that <strong>excellence is a public thing</strong>, only properly realized in a communal effort. The moment when a bride is plucked in marriage is a <em>kairos</em> analogous to that moment when victory flowers around the athlete. In each case the <em>kairos</em> represents <u>an intersection of public and private</u>, occurring when an individual reaches out beyond himself to perform an action that <strong>mingles</strong> him with his community. </p>
</blockquote>
<p>在结尾卡森引用了John Donne的诗，也呼应了婚礼的时间——正午。</p>
<blockquote>
<p>Love is a growing, or full constant light;<br>and his first minute, after noone, is night.</p>
</blockquote>
<h1 id="Stillness"><a href="#Stillness" class="headerlink" title="Stillness"></a>Stillness</h1>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Philosophy/" rel="tag"># Philosophy</a>
          
            <a href="/tags/Literature/" rel="tag"># Literature</a>
          
            <a href="/tags/Classics/" rel="tag"># Classics</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/book-reports/230503-the-penguin-book-of-the-prose-poem/" rel="next" title="The Penguin Book of The Prose Poem">
                <i class="fa fa-chevron-left"></i> The Penguin Book of The Prose Poem
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/book-reports/230510-the-greeks-and-the-irrational/" rel="prev" title="希腊人与非理性">
                希腊人与非理性 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Dori-min" />
          <p class="site-author-name" itemprop="name">Dori-min</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">128</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">35</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#How-Not-To-Read-A-Poem-Unmixing-Simonides-From-Protagoras"><span class="nav-text">How Not To Read A Poem : Unmixing Simonides From Protagoras</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Wedding-At-Noon-In-Pindar’s-Ninth-Pythian-1982"><span class="nav-text">Wedding At Noon In Pindar’s Ninth Pythian (1982)</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Stillness"><span class="nav-text">Stillness</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2018 - 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dori-min</span>
</div>





        

        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  


  

  

</body>
</html>

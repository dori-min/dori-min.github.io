<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Psychology,Sociology," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta name="description" content="这本书是The School of Life系列中的一册，也是我读的该系列第一册，以后预计也会读一些其他作品。本系列也有对应的油管演讲视频。
正如其名，这本书讲述的是“关系”，更准确地说是“亲密关系”。之前有读过社会学著作《亲密关系》，也有读过以李银河个人生活与性学研究为基础的《李银河说爱情》，而这本书又从另外一个层面给予了不少启发。
浪漫主义 vs 古典主义如果要极简地概括这本书的内容，那应该是">
<meta property="og:type" content="article">
<meta property="og:title" content="Relationships">
<meta property="og:url" content="https://dori-min.github.io/book-reports/220824-relationships/index.html">
<meta property="og:site_name" content="Dori-min">
<meta property="og:description" content="这本书是The School of Life系列中的一册，也是我读的该系列第一册，以后预计也会读一些其他作品。本系列也有对应的油管演讲视频。
正如其名，这本书讲述的是“关系”，更准确地说是“亲密关系”。之前有读过社会学著作《亲密关系》，也有读过以李银河个人生活与性学研究为基础的《李银河说爱情》，而这本书又从另外一个层面给予了不少启发。
浪漫主义 vs 古典主义如果要极简地概括这本书的内容，那应该是">
<meta property="og:updated_time" content="2022-08-24T21:41:00.564Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Relationships">
<meta name="twitter:description" content="这本书是The School of Life系列中的一册，也是我读的该系列第一册，以后预计也会读一些其他作品。本系列也有对应的油管演讲视频。
正如其名，这本书讲述的是“关系”，更准确地说是“亲密关系”。之前有读过社会学著作《亲密关系》，也有读过以李银河个人生活与性学研究为基础的《李银河说爱情》，而这本书又从另外一个层面给予了不少启发。
浪漫主义 vs 古典主义如果要极简地概括这本书的内容，那应该是">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"right","display":"hide","offset":12,"offset_float":12,"b2t":true,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://dori-min.github.io/book-reports/220824-relationships/"/>





  <title>Relationships | Dori-min</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Dori-min</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Keep Dori-min</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-random">
          <a href="/random.html" rel="section">
            
            Random
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dori-min.github.io/book-reports/220824-relationships/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Dori-min">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Dori-min">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Relationships</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2022-08-24T18:05:53+09:00">
                2022-08-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Book-Report/" itemprop="url" rel="index">
                    <span itemprop="name">Book Report</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>这本书是The School of Life系列中的一册，也是我读的该系列第一册，以后预计也会读一些其他作品。本系列也有对应的油管演讲视频。</p>
<p>正如其名，这本书讲述的是“关系”，更准确地说是“亲密关系”。之前有读过社会学著作<a href="https://dori-min.github.io/book-reports/210312-intimate-relationship/">《亲密关系》</a>，也有读过以李银河个人生活与性学研究为基础的<a href="https://dori-min.github.io/book-reports/210614-Lectures-about-Love/">《李银河说爱情》</a>，而这本书又从另外一个层面给予了不少启发。</p>
<h1 id="浪漫主义-vs-古典主义"><a href="#浪漫主义-vs-古典主义" class="headerlink" title="浪漫主义 vs 古典主义"></a>浪漫主义 vs 古典主义</h1><p>如果要极简地概括这本书的内容，那应该是区分浪漫主义和古典主义的亲密关系。根据本书19章的总结，可以从以下几个角度区分：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>浪漫主义</th>
<th>古典主义</th>
</tr>
</thead>
<tbody>
<tr>
<td>依靠直觉</td>
<td>依靠分析</td>
</tr>
<tr>
<td>自发行动，心电感应，心领神会</td>
<td>天下没有完全契合的一对<br>双方需要不断沟通来“教”对方，获得成长</td>
</tr>
<tr>
<td>最重要的品质是诚实真挚，纯爱无瑕</td>
<td>最重要的品质是礼貌体面，有模糊的空间</td>
</tr>
<tr>
<td>理想主义，万里挑一的真爱</td>
<td>现实主义，关注日常生活，接受瑕疵</td>
</tr>
<tr>
<td>真爱永存</td>
<td>亲密短暂</td>
</tr>
</tbody>
</table>
</div>
<p>浪漫主义观点中，真爱是完美的：</p>
<blockquote>
<p>To love someone is, quite simply, according to Romantic philosophy, to love them as they are – without any wish to alter them.</p>
</blockquote>
<p>作者推介了希腊人的观点——爱不是一蹴而就，而是一种漫长的教育。</p>
<blockquote>
<p>For the Greeks, given that we are all very imperfect, part of what it means to deepen love is to want to teach – and to be taught.</p>
<p>We should stop feeling guilty for simply wanting to change our partners, and we should never resent our partners for simply wanting to change us.</p>
<p>as we shall see, accepting a role for learning and teaching in love belongs to one of the fundamental principles of mature relationships.</p>
</blockquote>
<p>同时应该放低期待。对方的缺点也应该是“可爱”的一部分。</p>
<blockquote>
<p>when it comes to relationships, expectations are the enemies of love.<br>And, by extension, we’d be assuming from the start that no partner is going to have a complete, reliable or terribly accurate understanding of us.</p>
<p>The error we’re always tempted to make is to see defects as special to our own partner.<br>We blame everything but our hopes.</p>
</blockquote>
<p>在浪漫主义的考虑中，人们希望对方心领神会，但是现实是对方无法理解所有的心思（尤其是对于一些尴尬的事情），但是捅破窗户纸又显得尴尬而不适，却从来不明说。这是一种奇怪的现象。</p>
<blockquote>
<p>one both desperately wants to be understood and yet is utterly committed to not explaining oneself plainly.</p>
<p>We should not feel that we are failures, dull-witted, unimaginative or unsophisticated if we recognise a need to learn how to talk to our partners with premeditation and conscious purpose.</p>
</blockquote>
<p>现实是，甚至我们自己可能都不了解自己。</p>
<blockquote>
<p>all of us are both deeply mysterious (to ourselves and to others)</p>
</blockquote>
<p>如果知根知底，反而有可能成为一种危险。</p>
<blockquote>
<p>Keeping secrets can seem like a betrayal of the relationship. At the same time, the complete truth eventually appears to place the union in mortal danger.</p>
</blockquote>
<h1 id="关于爱情"><a href="#关于爱情" class="headerlink" title="关于爱情"></a>关于爱情</h1><h2 id="相似性"><a href="#相似性" class="headerlink" title="相似性"></a>相似性</h2><blockquote>
<p>The theory insists that we don’t fall in love first and foremost with those who care for us in ideal ways, we fall in love with those who care for us in <strong><u>familiar</u></strong> ways. We may believe we are seeking happiness in love, but what we are really after is <strong><u>familiarity</u></strong>.</p>
</blockquote>
<h2 id="所谓悲伤"><a href="#所谓悲伤" class="headerlink" title="所谓悲伤"></a>所谓悲伤</h2><p>是哀莫大于心死</p>
<blockquote>
<p>There is, in a sense, only one answer of sorts, and it can be called the <strong><u>Melancholy Position</u></strong>, because it confronts the sad truth that in certain key areas of human existence, there simply are no good solutions.</p>
</blockquote>
<h2 id="爱是把对方当可爱的傻瓜"><a href="#爱是把对方当可爱的傻瓜" class="headerlink" title="爱是把对方当可爱的傻瓜"></a>爱是把对方当可爱的傻瓜</h2><blockquote>
<p>a relationship takes an immense step forward when the parties can move from viewing their lovers as irritating idiots to considering them as loveable fools.</p>
</blockquote>
<h2 id="反复确认是有必要的"><a href="#反复确认是有必要的" class="headerlink" title="反复确认是有必要的"></a>反复确认是有必要的</h2><blockquote>
<p>We should create room for regular moments, perhaps as often as every few hours, when we can feel unembarrassed and legitimate about asking for confirmation. ‘I really need you; do you still want me?’</p>
</blockquote>
<h1 id="浪漫主义部分观点"><a href="#浪漫主义部分观点" class="headerlink" title="浪漫主义部分观点"></a>浪漫主义部分观点</h1><ul>
<li>完满的爱情是人生的终极目标</li>
</ul>
<blockquote>
<p>Romanticism made the idea of being close to one special other person in a long-term sexual union the very summit of life’s meaning, and subtly discredited alternatives, like devotion to scholarship</p>
</blockquote>
<ul>
<li>真爱永久</li>
</ul>
<blockquote>
<p>We invariably and naturally equate genuine relationships with lifelong relationships.</p>
</blockquote>
<ul>
<li>人的美好品质都通过亲密关系表现出来</li>
</ul>
<h1 id="古典主义部分观点"><a href="#古典主义部分观点" class="headerlink" title="古典主义部分观点"></a>古典主义部分观点</h1><ul>
<li>（自由主义观点）性与爱是分离的</li>
</ul>
<blockquote>
<p>To the Libertine, on the other hand, sex and love are radically distinct entities with an almost accidental, and partial, connection</p>
</blockquote>
<ul>
<li>爱是宽恕</li>
</ul>
<blockquote>
<p>But in the Classical story, that wiser, less immediately seductive genre, the real problem isn’t finding a partner, it is <strong><u>tolerating them, and being tolerated</u></strong>, over time.</p>
</blockquote>
<ul>
<li>人是看不透的</li>
</ul>
<blockquote>
<p><u>The Classical story accepts that no one ever fully understands anyone else.</u> Love starts with the experience of being understood in a deeply supportive and uncommon way. They understand the lonely parts of you; they grasp who you truly are. This will not continue. There will always be large tracts of one’s psyche that remain <strong><u>incomprehensible</u></strong> to anyone else.</p>
</blockquote>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Psychology/" rel="tag"># Psychology</a>
          
            <a href="/tags/Sociology/" rel="tag"># Sociology</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/book-reports/220724-being-involved-china-government-and-economic-development/" rel="next" title="置身事内：中国政府与经济发展">
                <i class="fa fa-chevron-left"></i> 置身事内：中国政府与经济发展
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/book-reports/220831-why-love-hurts/" rel="prev" title="为什么爱让人受伤">
                为什么爱让人受伤 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            Overview
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Dori-min" />
          <p class="site-author-name" itemprop="name">Dori-min</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">152</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">categories</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">36</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#浪漫主义-vs-古典主义"><span class="nav-text">浪漫主义 vs 古典主义</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#关于爱情"><span class="nav-text">关于爱情</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#相似性"><span class="nav-text">相似性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#所谓悲伤"><span class="nav-text">所谓悲伤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#爱是把对方当可爱的傻瓜"><span class="nav-text">爱是把对方当可爱的傻瓜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#反复确认是有必要的"><span class="nav-text">反复确认是有必要的</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#浪漫主义部分观点"><span class="nav-text">浪漫主义部分观点</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#古典主义部分观点"><span class="nav-text">古典主义部分观点</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2018 - 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Dori-min</span>
</div>





        

        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  


  

  

</body>
</html>
